<!DOCTYPE html>
<html>
<head>
    <title>ASCII Art Hover</title>
    <style>
        .image-container {
            position: relative;
            width: 300px;
            margin: 20px;
        }
        img {
            width: 100%;
            display: block;
        }
        .ascii-overlay {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            color: white;
            font-family: monospace;
            font-size: 4px;
            line-height: 4px;
            white-space: pre;
            overflow: hidden;
        }
        .image-container:hover .ascii-overlay {
            display: block;
        }
    </style>
</head>
<body>
    <div class="image-container">
        <img id="test-image" src="https://images.metmuseum.org/CRDImages/ep/original/DT1567.jpg" alt="Monet">
        <div id="ascii" class="ascii-overlay"></div>
    </div>

    <script>
        function generateASCII(img) {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const chars = '@#8&OLlv+;:,.';
            
            canvas.width = 80;
            canvas.height = 80 * (img.height / img.width);
            
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
            const pixels = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
            
            let ascii = '';
            for (let y = 0; y < canvas.height; y++) {
                for (let x = 0; x < canvas.width; x++) {
                    const idx = (y * canvas.width + x) * 4;
                    const brightness = (pixels[idx] + pixels[idx + 1] + pixels[idx + 2]) / 3;
                    const char = chars[Math.floor(brightness / 256 * chars.length)];
                    ascii += char;
                }
                ascii += '\n';
            }
            return ascii;
        }

        const img = document.getElementById('test-image');
        img.onload = () => {
            document.getElementById('ascii').textContent = generateASCII(img);
        };
    </script>
</body>
</html>
